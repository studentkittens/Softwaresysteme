<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><head><title>go-lang</title><meta name="generator" content="Hovercraft! 1.0 http://regebro.github.com/hovercraft"></meta><meta name="author" content="Christopher Pahl, Christoph Piechula"></meta><meta name="description" content="The Hovercraft! tutorial."></meta><meta name="keywords" content="presentation, backend, impress.js, hovercraft, go-lang"></meta><link rel="stylesheet" href="css/hovercraft.css" media="all"></link><link rel="stylesheet" href="css/impressConsole.css" media="all"></link><link rel="stylesheet" href="css/highlight.css" media="all"></link><link rel="stylesheet" href="presentation.css" media="screen,projection"></link></head><body class="impress-not-supported"><div id="impress"><div class="step" step="0" id="first" data-x="0" data-y="0"><div class="notes"><p>Mention Gopher.</p></div><p>Google Go
<span class="tiny">(2&#xBD;)</span></p><img src="images/gopherswrench.png" alt="" width="70%" height=""></img><div class="notes"><p>Wir haben eine sehr go-reiche Woche gehabt.</p><p>Umfrage: Wer hat go gemacht seit dem letzten mal?</p><p>Wir werden die n&#xE4;chsten 40 Minuten etwas schneller reden.</p><p>Das wird kein Go Tutorium, es geht uns eher drum dass ihr einfach mal
so seht wie die Sprache so aussieht und wie man damit Probleme l&#xF6;st.</p><p>Neue Sprachen lernen erfordert leider immer noch &#xDC;bung :)</p><p>Das ist &#xFC;brigens immer noch gopher. Wir m&#xF6;gen ihn auch immer noch.
Er ist immer noch putzig.</p></div></div><div class="step" step="1" data-x="1600" data-y="0"><p><span class="blocky">Was ist Go</span></p><div class="notes"><p>&lt;explain slide&gt;</p><p>does not allow weird formatting</p><p>Aktuelle Version: 1.4 (Dezemeber 2014)</p></div><p><em>Eine Programmiersprache.</em></p><ul><li>Erster Release <em>2009.</em> Stable 1.0 version in <em>2012</em></li><li>Concurrent, imperativ &amp; Object orientiert.</li><li>Von <em>Ken Thompson</em>, <em>Rob Pike</em> &amp; <em>Robert Griesemer</em>.</li><li>Strong &amp; Static (Duck) typing; Garbage collected.</li><li><strong>Java</strong> tries to be successor of <strong>C++</strong>.</li><li><strong>Go</strong> a successor of <strong>C</strong>.</li></ul><img src="images/ken.png" alt="" width="" height=""></img></div><div class="step" step="2" data-x="3200" data-y="0"><p><span class="blocky">Go Projekte</span></p><p>Bei genauerer Betrachtung schon einige:</p><ul><li>Google Doodles</li><li>Google App Engine</li><li>Youtube</li><li>Docker</li><li>Dropbox</li><li>&#x2026;</li></ul><p>Allgemein, viele Backendprojekte:</p><img src="images/appengine.png" alt="" width="15%" height=""></img><img src="images/docker.png" alt="" width="15%" height=""></img><img src="images/doodle.png" alt="" width="30%" height=""></img><img src="images/dropbox.png" alt="" width="15%" height=""></img><img src="images/youtube.png" alt="" width="20%" height=""></img><div class="notes"><p>&lt;explain slide&gt;</p><p>I cannot give an tutorial, but I can show some of the special features of Go.</p><p>Go has also most of the constructs and datastructures most other imperative language have, but we'll focus on the weird bits.</p><p>So let's start with&#x2026;</p></div></div><div class="step" step="3" data-x="4800" data-y="0"><p><span class="blocky">Hello world</span></p><div class="notes"><ul><li>Kurz wirken lassen</li><li>Mix aus Python und C (typische Konstrukte zeigen: import etc)</li></ul></div><pre class="highlight code go"><span class="kn">package</span> <span class="nx">main</span>

<span class="kn">import</span> <span class="s">"os"</span>
<span class="kn">import</span> <span class="s">"fmt"</span>

<span class="kd">func</span> <span class="nx">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="nx">os</span><span class="p">.</span><span class="nx">Args</span><span class="p">)</span> <span class="p">&gt;</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="nx">os</span><span class="p">.</span><span class="nx">Args</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="s">"mandarin"</span> <span class="p">{</span>
        <span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="s">"Hello, &#x4E16;&#x754C;"</span><span class="p">)</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="s">"Hello, World!"</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span></pre></div><div class="step" step="4" data-x="6400" data-y="0"><p><span class="blocky">Demo</span></p><div class="notes"><dl><dt>Tools: debugger, profiler, documentation tool, formatter, static analyzer,</dt><dd><p>build system, package manager... und compiler.</p></dd></dl><ul><li>GOPATH einrichten, workspace einrichten.</li><li>mkdir ~/go</li><li>export GOPATH=$HOME/go</li><li>cd ~/go</li><li>mkdir -p src/github.com/qitta/helloworld</li><li>cd src/github.com/qitta/helloworld</li><li>vim helloworld.go  # go fmt erw&#xE4;hnen, go def, autocompletion, go lint</li><li>go install / go build</li><li>Es kompiliert so schnell dass man es als Skriptsprache nehmen kann: go run</li><li>export PATH=$PATH:$GOPATH/bin</li><li>helloworld</li><li>vim helloworld_test.go</li><li>go test</li><li>vim helloworld_test.go # benchmark schreiben</li><li>go test -bench Add</li><li>debugger: man kann den standard gdb verwenden.</li></ul></div><pre class="highlight code bash"><span class="nv">$ </span>go <span class="nb">help</span></pre></div><div class="step" step="5" data-x="8000" data-y="0"><p><span class="blocky">Datentypen</span></p><div class="notes"><p>Standarddatentypen wie bei jeder anderen Programmiersprache.
(int, float, byte, rune, string).</p><p>Kurzschreibweise nur innerhalb Funktionen erlaubt.
Unicode Variablen sind &#xFC;brigens erlaubt.
Kein up/downcasting wie in C/Java.</p><ol><li>No pointer arithmetics or buffer overflows.</li><li>Strings are always <em>UTF-8</em>.</li></ol></div><p><strong>Primitive Datentypen:</strong></p><pre class="highlight code go"><span class="kd">var</span> <span class="nx">name</span> <span class="kt">string</span> <span class="p">=</span> <span class="s">"Berta"</span>    <span class="c1">// Normale Schreibweise
</span><span class="nx">time</span> <span class="o">:=</span> <span class="mf">42.0</span>                 <span class="c1">// Kurzschreibweise (inferred)
</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">,</span> <span class="nx">c</span> <span class="o">:=</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mi">77</span><span class="p">,</span> <span class="s">"Helmut"</span> <span class="c1">// Multiple Zuweisung
</span><span class="kd">var</span> <span class="err">&#x394;</span><span class="nx">balance</span> <span class="kt">int</span> <span class="p">=</span> <span class="nb">int</span><span class="p">(</span><span class="mf">2.0</span><span class="p">)</span>  <span class="c1">// Explizite Konversion
</span><span class="kd">var</span> <span class="nx">pb</span> <span class="o">*</span><span class="kt">int</span> <span class="p">=</span> <span class="o">&amp;</span><span class="nx">balance</span>       <span class="c1">// Pointer zu balance. (iiih!)</span></pre><p><strong>Maps:</strong></p><pre class="highlight code go"><span class="nx">hostToIP</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">(</span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kt">string</span><span class="p">)</span>            <span class="c1">// Hashtable
</span><span class="nx">hostToIP</span><span class="p">[</span><span class="s">"localhost"</span><span class="p">]</span> <span class="p">=</span> <span class="s">"127.0.0.1"</span>            <span class="c1">// Zuweisung</span></pre><p><strong>Arrays &amp; Slices:</strong></p><pre class="highlight code go"><span class="nx">animals</span> <span class="o">:=</span> <span class="p">[</span><span class="err">&#x2026;</span><span class="p">]</span><span class="kt">string</span><span class="p">{</span><span class="s">"cat"</span><span class="p">,</span> <span class="s">"moose"</span><span class="p">,</span> <span class="s">"owl"</span><span class="p">}</span>  <span class="c1">// Array
</span><span class="nx">saneAnimals</span> <span class="o">:=</span> <span class="nx">animals</span><span class="p">[:</span><span class="mi">2</span><span class="p">]</span>                     <span class="c1">// Slices
</span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="nx">animals</span><span class="p">,</span> <span class="nx">saneAnimals</span><span class="p">)</span>
<span class="cm">/* &#x21A6; [cat moose owl doves] [cat moose owl] */</span></pre></div><div class="step" step="6" data-x="9600" data-y="0"><p><span class="blocky">if</span></p><div class="notes"><p>Entpspricht C meist</p><p>switch case als if/[else if]/else ersatz?</p></div><pre class="highlight code go"><span class="k">if</span> <span class="nx">name</span> <span class="o">==</span> <span class="s">"wolfgang"</span> <span class="p">{</span>
    <span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="s">"m&#xE4;nnlich."</span><span class="p">)</span>
<span class="p">}</span></pre><p>Mit optionaler Kurzdeklaration:</p><pre class="highlight code go"><span class="k">if</span> <span class="nx">personId</span> <span class="o">:=</span> <span class="nx">GetId</span><span class="p">(</span><span class="nx">name</span><span class="p">);</span> <span class="nx">personId</span> <span class="p">&gt;</span> <span class="mi">0</span> <span class="p">{</span>
    <span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="s">"Person ID was"</span><span class="p">,</span> <span class="nx">personId</span><span class="p">)</span>
<span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="nx">personId</span> <span class="o">==</span> <span class="mi">0</span> <span class="p">{</span>
    <span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="s">"Placeholder person id."</span><span class="p">)</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="s">"Invalid person."</span><span class="p">)</span>
<span class="p">}</span></pre></div><div class="step" step="7" data-x="11200" data-y="0"><p><span class="blocky">switch</span></p><pre class="highlight code go"><span class="k">switch</span> <span class="nx">os</span> <span class="o">:=</span> <span class="nx">runtime</span><span class="p">.</span><span class="nx">GOOS</span><span class="p">;</span> <span class="nx">os</span> <span class="p">{</span>
<span class="k">case</span> <span class="s">"linux"</span><span class="p">:</span>
    <span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="s">"[good descision!]"</span><span class="p">)</span>
    <span class="k">fallthrough</span>
<span class="k">default</span><span class="p">:</span>
    <span class="nx">fmt</span><span class="p">.</span><span class="nx">Printf</span><span class="p">(</span><span class="s">"%s."</span><span class="p">,</span> <span class="nx">os</span><span class="p">)</span>
<span class="p">}</span></pre><p>Bedingungsloses <tt>switch</tt> als <tt>if/else</tt> Ersatz:</p><pre class="highlight code go"><span class="k">switch</span> <span class="nx">now</span> <span class="o">:=</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Now</span><span class="p">();</span> <span class="p">{</span>
<span class="k">case</span> <span class="nx">now</span><span class="p">.</span><span class="nx">Hour</span><span class="p">()</span> <span class="p">&lt;</span> <span class="mi">13</span><span class="p">:</span>
    <span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="s">"Guten Morgen!"</span><span class="p">)</span>
<span class="k">case</span> <span class="nx">now</span><span class="p">.</span><span class="nx">Hour</span><span class="p">()</span> <span class="p">&lt;</span> <span class="mi">17</span><span class="p">:</span>
    <span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="s">"Guten Nachmittag!"</span><span class="p">)</span>
<span class="k">default</span><span class="p">:</span>
    <span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="s">"Guten Abend."</span><span class="p">)</span>
<span class="p">}</span></pre></div><div class="step" step="8" data-x="12800" data-y="0"><p><span class="blocky">for</span></p><div class="notes"><p>Kein while loop, nur for. Auch for range.
Man kann alles weglassen.</p></div><p><strong>Normales</strong>   <tt>C for</tt></p><pre class="highlight code go"><span class="k">for</span> <span class="nx">i</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="p">&lt;</span> <span class="mi">10</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">{</span>
    <span class="c1">// &#x2026;
</span><span class="p">}</span></pre><p><tt>while</tt>  <strong>Schleife</strong></p><pre class="highlight code go"><span class="k">for</span> <span class="p">{</span>
    <span class="k">if</span> <span class="nx">something</span>  <span class="p">{</span>
        <span class="k">break</span>  <span class="c1">// or continue
</span>    <span class="p">}</span>
<span class="p">}</span></pre><p><tt>foreach</tt> <strong>Schleife</strong></p><pre class="highlight code go"><span class="k">for</span> <span class="nx">host</span><span class="p">,</span> <span class="nx">ip</span> <span class="o">:=</span> <span class="k">range</span> <span class="nx">hostToIP</span> <span class="p">{</span>
    <span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="nx">host</span><span class="p">,</span> <span class="s">"&#x21A6;"</span><span class="p">,</span> <span class="nx">ip</span><span class="p">)</span>
<span class="p">}</span></pre></div><div class="step" step="9" data-x="14400" data-y="0"><p><span class="blocky">func</span></p><div class="notes"><p>Go hat keine Defaultparameter. Leider.</p><p>Man kann auch return values benennen und sie dadurch direkt setzen.</p></div><pre class="highlight code go"><span class="kd">func</span> <span class="nx">GetCoolnesFactor</span><span class="p">(</span><span class="nx">language</span> <span class="kt">string</span><span class="p">)</span> <span class="kt">int</span> <span class="p">{</span>
    <span class="k">switch</span> <span class="nx">language</span> <span class="p">{</span>
        <span class="k">case</span> <span class="s">"java"</span><span class="p">:</span>   <span class="k">return</span> <span class="mi">1</span>
        <span class="k">case</span> <span class="s">"python"</span><span class="p">:</span> <span class="k">return</span> <span class="mi">7</span>
        <span class="k">case</span> <span class="s">"golang"</span><span class="p">:</span> <span class="k">return</span> <span class="mi">8</span>
        <span class="k">default</span><span class="p">:</span>
            <span class="k">return</span> <span class="o">-</span><span class="mi">1</span>
    <span class="p">}</span>
<span class="p">}</span></pre><p><strong>Fehlerbehandlung mit mehreren R&#xFC;ckgabewerten:</strong></p><pre class="highlight code go"><span class="kd">func</span> <span class="nx">div</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span> <span class="kt">int</span><span class="p">)</span> <span class="p">(</span><span class="kt">int</span><span class="p">,</span> <span class="kt">int</span><span class="p">,</span> <span class="kt">error</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="nx">b</span> <span class="o">==</span> <span class="mi">0</span> <span class="p">{</span>
        <span class="k">return</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">errors</span><span class="p">.</span><span class="nx">New</span><span class="p">(</span><span class="s">"divisor should not be 0"</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="nx">returb</span> <span class="nx">a</span> <span class="o">/</span> <span class="nx">b</span><span class="p">,</span> <span class="nx">a</span> <span class="o">%</span> <span class="nx">b</span>
<span class="p">}</span></pre></div><div class="step" step="10" data-x="16000" data-y="0"><p><span class="blocky">Closures</span></p><div class="notes"><p>Python &#xE4;hnliche Generatoren.</p></div><pre class="highlight code go"><span class="kd">func</span> <span class="nx">fibonacciEngine</span><span class="p">()</span> <span class="kd">func</span><span class="p">()</span> <span class="kt">int</span> <span class="p">{</span>
    <span class="nx">f1</span><span class="p">,</span> <span class="nx">f2</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span>
    <span class="k">return</span> <span class="kd">func</span><span class="p">()</span> <span class="kt">int</span> <span class="p">{</span>
        <span class="nx">f2</span><span class="p">,</span> <span class="nx">f1</span> <span class="p">=</span> <span class="nx">f1</span> <span class="o">+</span> <span class="nx">f2</span><span class="p">,</span> <span class="nx">f2</span>
        <span class="k">return</span> <span class="nx">f1</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">func</span> <span class="nx">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">fib</span> <span class="o">:=</span> <span class="nx">fibonacciEngine</span><span class="p">()</span>
    <span class="k">for</span> <span class="nx">i</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="p">&lt;</span> <span class="mi">10</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">{</span>
        <span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="nx">fib</span><span class="p">())</span>
    <span class="p">}</span>
<span class="p">}</span></pre></div><div class="step excercise1" step="11" data-x="17600" data-y="0"><div class="notes"><ul><li>Startwert f&#xFC;r z ausw&#xE4;hlen (1.0)</li><li>Iterativ z berechnen, zur&#xFC;ckgeben. (wieviel reichen denn aus?)</li><li>Plus: Iteration bei geringem Delta abbrechen.</li></ul></div><p><span class="blocky">Aufgabe 1/20</span></p><img src="images/newton.png" alt="" width="" height=""></img><p><em>Quadratwurzel iterativ selber berechnen:</em></p><pre class="highlight code go"><span class="kn">package</span> <span class="nx">main</span>

<span class="kn">import</span> <span class="s">"fmt"</span>
<span class="kn">import</span> <span class="s">"math"</span>

<span class="kd">func</span> <span class="nx">Sqrt</span><span class="p">(</span><span class="nx">x</span> <span class="kt">float64</span><span class="p">)</span> <span class="kt">float64</span> <span class="p">{</span>
    <span class="c1">// &#x2026;?
</span><span class="p">}</span>

<span class="kd">func</span> <span class="nx">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">better</span><span class="p">,</span> <span class="nx">worse</span> <span class="o">:=</span> <span class="nx">math</span><span class="p">.</span><span class="nx">Sqrt</span><span class="p">(</span><span class="mi">42</span><span class="p">),</span> <span class="nx">Sqrt</span><span class="p">(</span><span class="mi">42</span><span class="p">)</span>
    <span class="nx">fmt</span><span class="p">.</span><span class="nx">Printf</span><span class="p">(</span><span class="s">"%g - %g = %g"</span><span class="p">,</span> <span class="nx">better</span><span class="p">,</span> <span class="nx">worse</span><span class="p">,</span> <span class="nx">better</span> <span class="o">-</span> <span class="nx">worse</span><span class="p">)</span>
<span class="p">}</span></pre><p><em>Web-Playground:</em> <a href="https://play.golang.org/">https://play.golang.org/</a></p></div><div class="step" step="12" data-x="19200" data-y="0"><p><span class="blocky">OOP</span></p><div class="notes"><p>&lt;explain slide&gt;</p><p>Interfaces: Sammlung von Methoden.</p><p>Go is a statically and strong typed language.
But most of the time value types can be derived from the context
by the compiler. Types are divided into interfaces and structs.
Every struct can be used by a certain interface as long all methods
of this interface were implemented for a certain struct.</p><p>By the way, also note that type declaration is reversed in go, so the
variable name commes first, and the type name second.</p></div><p><strong>Go</strong> hat eigentlich keine Klassen oder Vererbung.</p><pre class="highlight code go"><span class="kd">type</span> <span class="nx">Animal</span> <span class="kd">interface</span> <span class="p">{</span>
    <span class="nx">getName</span><span class="p">()</span> <span class="kt">string</span>   <span class="c1">// Interface-Anforderung
</span><span class="p">}</span>

<span class="kd">type</span> <span class="nx">Cat</span> <span class="kd">struct</span> <span class="p">{</span>
    <span class="nx">Name</span> <span class="kt">string</span>        <span class="c1">// Membervariable
</span><span class="p">}</span>

<span class="kd">func</span> <span class="p">(</span><span class="nx">c</span> <span class="nx">Cat</span><span class="p">)</span> <span class="nx">getName</span><span class="p">()</span> <span class="kt">string</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">c</span><span class="p">.</span><span class="nx">Name</span>
<span class="p">}</span>

<span class="kd">func</span> <span class="nx">GreetAnimal</span><span class="p">(</span><span class="nx">animal</span> <span class="nx">Animal</span><span class="p">)</span> <span class="p">{</span>
     <span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="s">"Hello, "</span> <span class="o">+</span> <span class="nx">animal</span><span class="p">.</span><span class="nx">getName</span><span class="p">())</span>
<span class="p">}</span>

<span class="kd">func</span> <span class="nx">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">GreetAnimal</span><span class="p">(</span><span class="nx">Cat</span><span class="p">{</span><span class="nx">Name</span><span class="p">:</span> <span class="s">"Garfield"</span><span class="p">})</span>
<span class="p">}</span></pre></div><div class="step" step="13" data-x="20800" data-y="0"><p><span class="blocky">Packages</span></p><div class="notes"><ul><li>Ein Paket kann auf mehrere Dateien mit selben package xy aufgeteilt sein.</li><li>Public/Private durch Gro&#xDF;/kleinschreibung definiert.</li><li>import durch vollen packagenamen, nutzung durch letzten teil. (fmt.Xy)</li><li>Mainmethode immer im package main.</li></ul></div><p><tt>$GOPATH/github.com/studentkittens/tux/tux.go</tt></p><pre class="highlight code go"><span class="kn">package</span> <span class="nx">tux</span>

<span class="kd">func</span> <span class="nx">Name</span><span class="p">()</span> <span class="p">{</span>
     <span class="k">return</span> <span class="s">"Tux"</span>
<span class="p">}</span></pre><p><tt>$GOPATH/main.go</tt></p><pre class="highlight code go"><span class="kn">package</span> <span class="nx">main</span>

<span class="kn">import</span> <span class="p">(</span>
    <span class="s">"fmt"</span>
    <span class="s">"github.com/studentkittens/tux"</span>
<span class="p">)</span>

<span class="kd">func</span> <span class="nx">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="nx">tux</span><span class="p">.</span><span class="nx">Name</span><span class="p">())</span>
<span class="p">}</span></pre></div><div class="step" step="14" data-x="22400" data-y="0"><p><span class="blocky">Errors</span></p><div class="notes"><p>Es gibt auch noch panic + defer/recover.</p><p>Die sind aber mehr f&#xFC;r ernste absolute unerwartete Fehler.</p><p>Die Beispiele sind sogar (fast) gleich lang!</p></div><p><strong>Python:</strong></p><pre class="highlight code python"><span class="k">try</span><span class="p">:</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s">'/nope'</span><span class="p">,</span> <span class="s">'r'</span><span class="p">)</span> <span class="k">as</span> <span class="n">fd</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="n">fd</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
<span class="k">except</span> <span class="n">FileNotFoundError</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="s">'Dude?!'</span><span class="p">)</span></pre><p>Das Gleiche in <strong>Go</strong>:</p><pre class="highlight code go"><span class="k">if</span> <span class="nx">fd</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">os</span><span class="p">.</span><span class="nx">Open</span><span class="p">(</span><span class="s">"/nope"</span><span class="p">);</span> <span class="nx">err</span> <span class="o">==</span> <span class="kc">nil</span> <span class="p">{</span>
    <span class="k">defer</span> <span class="nx">fd</span><span class="p">.</span><span class="nx">Close</span><span class="p">()</span>
    <span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="nx">ioutil</span><span class="p">.</span><span class="nx">ReadFile</span><span class="p">(</span><span class="nx">fd</span><span class="p">))</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="s">"Dude?!"</span><span class="p">)</span>
<span class="p">}</span></pre></div><div class="step heading" step="15" data-x="24000" data-y="0"><p><span class="blocky">Goroutinen</span></p><p>Parallele <strong>Go</strong> Entsprechung eines <strong>Python</strong> Generator:</p><div class="notes"><p>No conventional threads.
Only goroutines and channels to communicate between them.
go routines can be seen as lightweight threads.</p><p>Go routines do not necessary have a thread behind them, that's
an implementation detail of go.</p></div><p><em>Go routines:</em></p><pre class="highlight code go"><span class="kd">func</span> <span class="nx">fibonacci</span><span class="p">(</span><span class="nx">n</span> <span class="kt">int</span><span class="p">,</span> <span class="nx">c</span> <span class="kd">chan</span> <span class="kt">int</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">x</span><span class="p">,</span> <span class="nx">y</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span>
    <span class="k">for</span> <span class="nx">i</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="p">&lt;</span> <span class="nx">n</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">{</span>
        <span class="nx">c</span> <span class="o">&lt;-</span> <span class="nx">y</span>
        <span class="nx">x</span><span class="p">,</span> <span class="nx">y</span> <span class="p">=</span> <span class="nx">y</span><span class="p">,</span> <span class="nx">x</span><span class="o">+</span><span class="nx">y</span>
    <span class="p">}</span>
    <span class="nb">close</span><span class="p">(</span><span class="nx">c</span><span class="p">)</span>
<span class="p">}</span>

<span class="kd">func</span> <span class="nx">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">c</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">(</span><span class="kd">chan</span> <span class="kt">int</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
    <span class="k">go</span> <span class="nx">fibonacci</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="nx">c</span><span class="p">)</span>
    <span class="k">for</span> <span class="nx">i</span> <span class="o">:=</span> <span class="k">range</span> <span class="nx">c</span> <span class="p">{</span>
        <span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="nx">i</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span></pre></div><div class="step" step="16" data-x="25600" data-y="0"><p><span class="blocky">select</span></p><p>Ein simpler <strong>Eventloop</strong> in <strong>Go</strong>:</p><pre class="highlight code go"><span class="kd">func</span> <span class="nx">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">tick</span> <span class="o">:=</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Tick</span><span class="p">(</span><span class="mi">100</span> <span class="o">*</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Millisecond</span><span class="p">)</span>
    <span class="nx">boom</span> <span class="o">:=</span> <span class="nx">time</span><span class="p">.</span><span class="nx">After</span><span class="p">(</span><span class="mi">500</span> <span class="o">*</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Millisecond</span><span class="p">)</span>
    <span class="k">for</span> <span class="p">{</span>
        <span class="k">select</span> <span class="p">{</span>
        <span class="k">case</span> <span class="o">&lt;-</span><span class="nx">tick</span><span class="p">:</span>
            <span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="s">"tick."</span><span class="p">)</span>
        <span class="k">case</span> <span class="o">&lt;-</span><span class="nx">boom</span><span class="p">:</span>
            <span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="s">"BOOM!"</span><span class="p">)</span>
            <span class="k">return</span>
        <span class="k">default</span><span class="p">:</span>
            <span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="s">"    ."</span><span class="p">)</span>
            <span class="nx">time</span><span class="p">.</span><span class="nx">Sleep</span><span class="p">(</span><span class="mi">50</span> <span class="o">*</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Millisecond</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span></pre></div><div class="step" step="17" data-x="27200" data-y="0"><p><span class="blocky">Pluspunkte</span></p><div class="notes"><p>It has not yet the speed of C yet.</p><p>Portable but not important for a backend.</p><p>A bit like a nice and pleasant mixture of Python and C.</p></div><ul><li>Beinahe die Schnelligkeit von <strong>C</strong>&#x2026;</li><li>&#x2026;kombiniert mit der Einfachheit von <strong>Python</strong>.</li><li>Gro&#xDF;e Standardlibrary (<em>Batteries included</em>, <em>Websockets!</em>)</li><li>Kompiliert schnell genug um als Skriptsprache zu dienen.</li><li>Viele g&#xE4;ngige Werkzeuge sind Bestandteil der Sprache.</li><li><strong>Open Source</strong> und von <strong>Google</strong> supported.</li><li>Einfaches Deployement. (<em>eine statische gelinkte Binary</em>)</li></ul></div><div class="step" step="18" data-x="28800" data-y="0"><div class="notes"><p>You dont find many programmers yet.</p><p>people might feel the need for traditional OOP</p><p>Example: GTK is still missing for go and many special need libs</p><p>Man kann mit varargs optionale parameter faken.</p></div><p><span class="blocky">Minuspunkte</span></p><ul><li>Ungewohnte &#x23AF; vor allem f&#xFC;r <strong>Java</strong> Programmierer.</li><li>Einige fehlende Bibliotheken (<em>GObject!</em>) noch nicht portiert.</li><li>Binaries sind ein bisschen gro&#xDF; (<em>~2 MB per HelloWorld</em>)</li><li>Noch keine <strong>Generics</strong>. <em>(&#x2026;Nachteil?)</em></li><li>Keine <em>Listcomprehensions</em>. (&#x1F615;)</li><li>Keine <em>Defaultparameter</em>. (&#x1F61E;)</li><li>Wenige Go-Programmierer auf dem Markt. (&#x1F603;)</li></ul></div><div class="step" step="19" id="fin" data-x="30400" data-y="0"><div class="notes"><p>BOOK!</p><p>If you really want to dive in Go, I can recommend those:</p></div><p><span class="blocky">Letzte Worte</span></p><blockquote><p><a href="https://tour.golang.org/">https://tour.golang.org/</a></p><p><a href="https://gobyexample.com/">https://gobyexample.com/</a></p></blockquote><div class="line-block"><br></br><br></br></div><p><strong>(Fragen?)</strong></p></div></div><div id="hovercraft-help"><table><tr><th>Space</th><td>Forward</td></tr><tr><th>Left, Down, Page Down</th><td>Next slide</td></tr><tr><th>Right, Up, Page Up</th><td>Previous slide</td></tr><tr><th>P</th><td>Open presenter console</td></tr><tr><th>H</th><td>Toggle this help</td></tr></table></div><script type="text/javascript" src="js/impress.js"></script><script type="text/javascript" src="js/impressConsole.js"></script><script type="text/javascript" src="js/hovercraft.js"></script></body></html>