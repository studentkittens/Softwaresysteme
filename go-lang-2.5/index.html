<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><head><title>go-lang</title><meta name="generator" content="Hovercraft! 1.0 http://regebro.github.com/hovercraft"></meta><meta name="author" content="Christopher Pahl"></meta><meta name="description" content="The Hovercraft! tutorial."></meta><meta name="keywords" content="presentation, backend, impress.js, hovercraft, go-lang"></meta><link rel="stylesheet" href="css/hovercraft.css" media="all"></link><link rel="stylesheet" href="css/impressConsole.css" media="all"></link><link rel="stylesheet" href="css/highlight.css" media="all"></link><link rel="stylesheet" href="presentation.css" media="screen,projection"></link></head><body class="impress-not-supported"><div id="impress"><div class="step" step="0" id="first" data-x="0" data-y="0"><div class="notes"><p>Mention Gopher.</p></div><img src="images/glenda.png" alt="" width="25%" height=""></img><p>Google Go</p><div class="notes"><p>Welcome to my talk about Google Go and why you should learn it as your next
programming language. And also why it's a good idea if that next project is
a web application backend.</p><p>That's gopher right there btw.
Do not google for "gopher", that's a weird animal.</p></div></div><div class="step" step="1" data-x="1600" data-y="0"><p><span class="blocky">What is it?</span></p><div class="notes"><p>&lt;explain slide&gt;</p><p>does not allow weird formatting</p><p>Poll: Anyone used go already for something?</p><p>Current version: 1.4</p></div><p><em>A programming language obviously.</em></p><ul><li>First seen <em>2009.</em> Stable 1.0 version in <em>2012</em></li><li>Paradigms: parallel, imperative &amp; object oriented.</li><li>Developed by <em>Ken thompson</em> and <em>Rob Pike</em> at <em>Google</em>.</li><li>Strong &amp; Static Duck typing; Garbage collected.</li><li><strong>Java</strong> tries to be successor of <strong>C++</strong>.</li><li><strong>Go</strong> a successor of <strong>C</strong>.</li></ul><img src="images/ken.png" alt="" width="" height=""></img></div><div class="step" step="2" data-x="3200" data-y="0"><p><span class="blocky">Hello world</span></p><pre class="highlight code go"><span class="kn">package</span> <span class="nx">main</span>

<span class="kn">import</span> <span class="s">"os"</span>
<span class="kn">import</span> <span class="s">"fmt"</span>

<span class="kd">func</span> <span class="nx">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="nx">os</span><span class="p">.</span><span class="nx">Args</span><span class="p">)</span> <span class="p">&gt;</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="nx">os</span><span class="p">.</span><span class="nx">Args</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="s">"mandarin"</span> <span class="p">{</span>
        <span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="s">"Hello, &#x4E16;&#x754C;"</span><span class="p">)</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="s">"Hello, World!"</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span></pre><div class="notes"><p>It looks something like this.
It already looks like a mix of Python and C - and feels like it too.</p><p>&lt;Describe standard constructs&gt;</p><p>Who knows some software written in Go?</p></div></div><div class="step" step="3" data-x="4800" data-y="0"><h1 id="stuff-that-s-written-in-go">Stuff that's written in Go</h1><p><em>Not so much yet actually:</em></p><ul><li>Google Doodles (<em>you seem them almost daily!</em>)</li><li>Google App Engine</li><li>Docker</li></ul><p>In general, a lot of backend stuff:</p><img src="images/appengine.png" alt="" width="20%" height=""></img><img src="images/docker.png" alt="" width="20%" height=""></img><img src="images/doodle.png" alt="" width="40%" height=""></img><div class="notes"><p>&lt;explain slide&gt;</p><p>I cannot give an tutorial, but I can show some of the special features of Go.</p><p>Go has also most of the constructs and datastructures most other imperative language have, but we'll focus on the weird bits.</p><p>So let's start with...</p></div></div><div class="step" step="4" data-x="6400" data-y="0"><h1 id="go-supports-oop"><strong>Go</strong> supports OOP&#x2026;</h1><div class="notes"><p>&lt;explain slide&gt;</p><p>Go is a statically and strong typed language.
But most of the time value types can be derived from the context
by the compiler. Types are divided into interfaces and structs.
Every struct can be used by a certain interface as long all methods
of this interface were implemented for a certain struct.</p><p>By the way, also note that type declaration is reversed in go, so the
variable name commes first, and the type name second.</p></div><p>&#x2026;but without classes and inheritance. <strong>Huh?</strong></p><ul><li>Duck typing does not needed classes.</li><li>But here are interfaces and (anonymous) composition!</li></ul><pre class="highlight code go"><span class="kd">type</span> <span class="nx">Animal</span> <span class="kd">interface</span> <span class="p">{</span>
    <span class="nx">getName</span><span class="p">()</span> <span class="kt">string</span>   <span class="c1">// general member
</span><span class="p">}</span>

<span class="kd">type</span> <span class="nx">Cat</span> <span class="kd">struct</span> <span class="p">{</span>
    <span class="nx">Animal</span>             <span class="c1">// anonymous member
</span>    <span class="nx">CutenessLevel</span> <span class="kt">int</span>  <span class="c1">// some other member
</span><span class="p">}</span>

<span class="kd">func</span> <span class="p">(</span><span class="nx">c</span> <span class="nx">Cat</span><span class="p">)</span> <span class="nx">getName</span><span class="p">()</span> <span class="kt">string</span> <span class="p">{</span>    <span class="c1">// bound method
</span>    <span class="k">return</span> <span class="s">"Garfield"</span>
<span class="p">}</span>

<span class="kd">func</span> <span class="nx">greetAnimal</span><span class="p">(</span><span class="nx">animal</span> <span class="nx">Animal</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// general  function
</span>     <span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="s">"Hello, "</span> <span class="o">+</span> <span class="nx">animal</span><span class="p">.</span><span class="nx">getName</span><span class="p">())</span>
<span class="p">}</span></pre></div><div class="step heading" step="5" data-x="8000" data-y="0"><p><span class="blocky">Go is parallel</span></p><p>&#x2026; and parallel is easy with Go.</p><div class="notes"><p>No conventional threads.
Only goroutines and channels to communicate between them.
go routines can be seen as lightweight threads.</p><p>Go routines do not necessary have a thread behind them, that's
an implementation detail of go.</p></div><p><em>Go routines:</em></p><pre class="highlight code go"><span class="kd">func</span> <span class="nx">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">for</span> <span class="nx">i</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="p">&lt;</span> <span class="mi">10</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">{</span>
        <span class="k">go</span> <span class="kd">func</span><span class="p">(</span><span class="nx">i</span> <span class="kt">int</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="nx">i</span><span class="p">)</span>
        <span class="p">}(</span><span class="nx">i</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="nx">time</span><span class="p">.</span><span class="nx">Sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>  <span class="c1">// crappy synchronization
</span><span class="p">}</span></pre></div><div class="step heading" step="6" data-x="9600" data-y="0"><p><span class="blocky">Go is parallel</span></p><p><em>Channels:</em></p><pre class="highlight code go"><span class="kd">func</span> <span class="nx">echo</span><span class="p">(</span><span class="nx">c</span> <span class="kd">chan</span> <span class="kt">int</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">for</span> <span class="p">{</span>
        <span class="nx">msg</span> <span class="o">:=</span> <span class="o">&lt;-</span> <span class="nx">c</span>
        <span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="nx">msg</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">func</span> <span class="nx">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">numbers</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">(</span><span class="kd">chan</span> <span class="kt">int</span><span class="p">)</span>
    <span class="k">go</span> <span class="nx">echo</span><span class="p">(</span><span class="nx">numbers</span><span class="p">)</span>

    <span class="k">for</span> <span class="nx">i</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="p">&lt;</span> <span class="mi">10</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">{</span>
        <span class="nx">numbers</span>  <span class="o">&lt;-</span> <span class="nx">i</span>
    <span class="p">}</span>
<span class="p">}</span></pre><div class="notes"><p>Parallelism is built into the language itself. Communication also, no
special data structures needed (like asynchronous queues).</p></div></div><div class="step" step="7" data-x="11200" data-y="0"><h1 id="go-has-no-exceptions">Go has no exceptions</h1><div class="notes"><p>&lt;Spot the bug in the first code block&gt;</p><p>defer can be used to delay function execution till the end.</p><p>even, if the function returns early or panics.</p></div><p><em>But it has</em> <tt>defer</tt>. Spot the bug here:</p><pre class="highlight code go"><span class="kd">func</span> <span class="nx">processFile</span><span class="p">(</span><span class="nx">srcName</span> <span class="kt">string</span><span class="p">)</span>  <span class="p">{</span>
    <span class="nx">src</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">os</span><span class="p">.</span><span class="nx">Open</span><span class="p">(</span><span class="nx">srcName</span><span class="p">)</span>
    <span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="o">||</span> <span class="p">!</span><span class="nx">processFile</span><span class="p">(</span><span class="nx">src</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="s">"oops, stuff did go wrong"</span>
    <span class="p">}</span>
    <span class="c1">// &#x2026; read src &#x2026;
</span>    <span class="nx">src</span><span class="p">.</span><span class="nx">Close</span><span class="p">()</span>
    <span class="k">return</span> <span class="s">"all cool."</span>
<span class="p">}</span></pre><p>Using <strong>Go</strong>-idioms:</p><pre class="highlight code go"><span class="kd">func</span> <span class="nx">processFile</span><span class="p">(</span><span class="nx">srcName</span> <span class="kt">string</span><span class="p">)</span>  <span class="p">{</span>
    <span class="nx">src</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">os</span><span class="p">.</span><span class="nx">Open</span><span class="p">(</span><span class="nx">srcName</span><span class="p">)</span>
    <span class="k">defer</span> <span class="nx">src</span><span class="p">.</span><span class="nx">Close</span><span class="p">()</span>
    <span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="o">||</span> <span class="p">!</span><span class="nx">processFile</span><span class="p">(</span><span class="nx">src</span><span class="p">)</span> <span class="p">{</span>
        <span class="nb">panic</span><span class="p">(</span><span class="s">"oops, stuff did go wrong"</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="c1">// &#x2026; read src &#x2026;
</span>    <span class="c1">// &#x2026; caller should call recover() on errors &#x2026;
</span> <span class="p">}</span></pre></div><div class="step" step="8" data-x="12800" data-y="0"><h1 id="webframeworks">Webframeworks</h1><p><em>Quite some for a young language:</em></p><ul><li>Full scale web frameworks like <em>Beego</em> or <em>Revel</em>:</li><li>Lightweight alternatives like <em>Gorilla</em> or <em>Martini</em>.</li><li>Often it's enough to use <em>Gorilla</em> &amp; the standard <tt>net/http</tt>. <em>(*)</em></li><li><strong>Go</strong> is supported well for <em>Google App Engine</em> and many other popular
cloud platforms like <em>Heroku</em>.</li></ul><img src="images/gorilla.png" alt="" width="20%" height=""></img><img src="images/beego.png" alt="" width="40%" height=""></img><img src="images/revel.png" alt="" width="30%" height=""></img><p><em>(* Websocket support included)</em></p><div class="notes"><p>Beego looks to be a full featured MVC framework, maybe on the same level as
Rails. It doesn&#x2019;t make any attempts at being small. It has its own logging
library, ORM and Web frameworks.</p><p>&lt;explain slide&gt;</p></div></div><div class="step" step="9" data-x="14400" data-y="0"><h1 id="random-example-martini">Random Example: <strong>Martini</strong></h1><div class="notes"><p>A bit the Flask of the Go world.
A really lightweight framework.
Below is some real world go code.</p><p>&lt;explain slide&gt;</p></div><pre class="highlight code go"><span class="kn">package</span> <span class="nx">main</span>

<span class="kn">import</span> <span class="s">"github.com/go-martini/martini"</span>

<span class="kd">func</span> <span class="nx">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">m</span> <span class="o">:=</span> <span class="nx">martini</span><span class="p">.</span><span class="nx">Classic</span><span class="p">()</span>
    <span class="nx">m</span><span class="p">.</span><span class="nx">Get</span><span class="p">(</span><span class="s">"/hello/:name"</span><span class="p">,</span> <span class="kd">func</span><span class="p">(</span><span class="nx">params</span> <span class="nx">martini</span><span class="p">.</span><span class="nx">Params</span><span class="p">)</span> <span class="kt">string</span> <span class="p">{</span>
        <span class="k">return</span> <span class="s">"Hello "</span> <span class="o">+</span> <span class="nx">params</span><span class="p">[</span><span class="s">"name"</span><span class="p">]</span>
    <span class="p">})</span>
    <span class="nx">m</span><span class="p">.</span><span class="nx">Run</span><span class="p">()</span>
<span class="p">}</span></pre><p><em>Running it:</em></p><pre class="highlight code bash"><span class="nv">$ </span>curl http://localhost:3000/hello/world
Hello world</pre></div><div class="step" step="10" data-x="16000" data-y="0"><h1 id="testing">Testing</h1><pre class="highlight code go"><span class="kd">func</span> <span class="nx">TestStupid</span><span class="p">(</span><span class="nx">t</span> <span class="o">*</span><span class="nx">testing</span><span class="p">.</span><span class="nx">T</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="mi">1</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">!=</span> <span class="mi">2</span> <span class="p">{</span>
        <span class="nx">t</span><span class="p">.</span><span class="nx">Error</span><span class="p">(</span><span class="s">"I shouldn't have gone out of bed."</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">func</span> <span class="nx">BenchmarkStuff</span><span class="p">(</span><span class="nx">b</span> <span class="o">*</span><span class="nx">testing</span><span class="p">.</span><span class="nx">B</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">for</span> <span class="nx">i</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="p">&lt;</span> <span class="nx">b</span><span class="p">.</span><span class="nx">N</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">{</span>
        <span class="nx">n</span> <span class="p">=</span> <span class="nx">i</span> <span class="o">*</span> <span class="nx">i</span> <span class="o">/</span> <span class="nx">N</span>  <span class="c1">// whatever.
</span>    <span class="p">}</span>
<span class="p">}</span></pre><p>Run with:</p><pre class="highlight code bash"><span class="nv">$ </span>go <span class="nb">test</span></pre><div class="notes"><p>You can have the test modules and benchmark functions directly
in the same module you have your code in.</p></div></div><div class="step" step="11" data-x="17600" data-y="0"><h1 id="developer-tools">Developer tools</h1><ul><li>All major IDEs are more or less supported.</li><li>But most go developers prefer to use a plain text editor.</li><li>Buildsystem, package manager, testing tool, lint checker and more is
integrated into the <tt>go</tt> command line tool.</li><li>Just no text editor in there yet.</li></ul><div class="notes"><p>IDEs: Netbeans, Eclipse, IntelliJ, Vim</p><p><tt>go</tt> tool makes most IDE features beyond code completion
and syntax highlighting less useful.</p><p>Go shebang scripts</p></div></div><div class="step" step="12" data-x="19200" data-y="0"><h1 id="security-aspects">Security aspects</h1><div class="notes"><p>Go is a programming language and you can't say "It's secure"#
out of the box.</p><p>But the language learned from C in order to make less mistakes.</p><p>There are actually pointers</p><p>UTF-8, so programs have to handle broken encoding and do not silently
produce bad results or even trigger exceptions in the program.</p><p>Every function go that can return an error should be checked.</p></div><p><strong>Go</strong> features that might help make secure applications:</p><ul><li>No pointer arithmetics or buffer overflows.</li><li>Automatic garbage collection.</li><li>Strings are always <em>UTF-8</em>.</li><li>Error handling and exception handling is the same thing.</li></ul></div><div class="step" step="13" data-x="20800" data-y="0"><h1 id="summary-the-upsides">Summary - the upsides</h1><div class="notes"><p>It has not yet the speed of C yet.
A bit like a nice and pleasant mixture of Python and C.</p></div><ul><li>Very <strong>fast</strong> with little programming effort.</li><li><strong>Parallel</strong>: well suited for asynchronous backend tasks.</li><li>Quite some <strong>Webframeworks</strong> and <strong>Deployement</strong> possibilities.</li><li><strong>Compiles</strong> blazingly fast.</li><li><strong>Large</strong> standard library (<em>Batteries included</em>)</li><li><strong>Easy</strong> to learn for <strong>C</strong>-Programmers.</li><li><strong>Open Source</strong> language (<em>BSD-Style</em>).</li></ul><p><em>There is a concurrent web crawler at the end of the introduction tour:</em></p><p>It has about <span class="underline">60</span> lines of code as it's core.</p></div><div class="step" step="14" data-x="22400" data-y="0"><h1 id="summary-the-downsides">Summary - the downsides</h1><ul><li>Not a very commonly <strong>known</strong> language yet.</li><li>Might be weird for programmers coming from e.g. <strong>Java</strong>.</li><li>Not so many <strong>libraries</strong> to chose from (yet).</li><li>No <strong>Generics</strong> (yet).</li><li>No <strong>Exceptions</strong>. <em>(*)</em></li><li>Googling for <em>,,go run''</em> yields not what you want.</li></ul><p>(* although replaced by <tt>defer</tt> and <tt>panic/recover</tt>)</p><div class="notes"><p>You dont find many programmers yet.</p><p>people might feel the need for traditional OOP</p><p>Example: GTK is still missing for go and many special need libs</p></div></div><div class="step" step="15" id="fin" data-x="24000" data-y="0"><div class="notes"><p>BOOK!</p><p>If you really want to dive in Go, I can recommend those:</p></div><p><span class="blocky">Last words</span></p><blockquote><p><a href="https://tour.golang.org/">https://tour.golang.org/</a></p><p><a href="https://gobyexample.com/">https://gobyexample.com/</a></p></blockquote><div class="line-block"><br></br><br></br></div><p><strong>(Questions?)</strong></p></div></div><div id="hovercraft-help"><table><tr><th>Space</th><td>Forward</td></tr><tr><th>Left, Down, Page Down</th><td>Next slide</td></tr><tr><th>Right, Up, Page Up</th><td>Previous slide</td></tr><tr><th>P</th><td>Open presenter console</td></tr><tr><th>H</th><td>Toggle this help</td></tr></table></div><script type="text/javascript" src="js/impress.js"></script><script type="text/javascript" src="js/impressConsole.js"></script><script type="text/javascript" src="js/hovercraft.js"></script></body></html>